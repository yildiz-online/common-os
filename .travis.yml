sudo: required

language: generic

git:
  depth: false

dist:
  xenial

cache:
  directories:
    - $HOME/.m2

services:
  - docker

before_install:
  - docker pull moussavdb/build-java

env:
  global:
  - secure: KSGxlicqG5OZh3VKGoYEXzVqfXL+2RNV1kbZ9baqG9yHWu6aX8OpPg5FBquXsF4hdYIZDRB12slEzGF1RO0ryQ8uuO3WKVzK/dQAZjjD/brlaDcR9KeUmJOe9gFgjES45m/S8RGN4P4C476kXAzU/CrHYQkhg9z79gSIHglqouQCzYHnXn73cmATCigTOfuSVsHKh3jDbC7Ylfp9KvM9DxIQ8ovt5w4z/qMQKpno3sAU6toyuFJs/uhui1lagwEOcQUlUJL0oUc3o8GNZSnKyTMAqRVoV/dxHuijRZ6ij0q5QpTJ5PX5n0P+AEhS32sdicSs+3Pf3dZiU9jqBAjM0adLhRMBgbt3jfIWmvg06NjVsDTdacOf3rlH5Qq338n+3TBnQt7uZdRzACrXS28Z2z+lGMdKKgM/3QEBhOFvJ1TykfpBf2Cl2hIAjgmAbYfdWXkv192cuxsLnVm5rH7n5d4IeXrima5B/7KwcVrWfjtf97b9Su/MYC/i0SUob6VVnvIllsQbrmwsY2oPgl1iC7hkA6xUiyKnA4P1NOdDGyTN+ELjVqwwuhPB/YtAtlMqdjLAvT8USsKXkZxTvvnxPjc2pko3eiQ6jAasiNJbaPHwuZV7JitM/YcrZ0YPlzQoWczTkkjqSkBvdwW/HWpm4MUnxx+Y8Ya48Fdpsd6+xaA=
  - secure: M4DC5VFA21SuVrgQ1mndaE5LCjRI8D4/hp4+ndu9j4TokoSzgAJkqlFcZuQrQfV1WPX8/EPSvlxFNxtTHlvFvVXMNdV5bESX51R6Xpv8objt43Nz1DVjAYv9hXG3/OrrbJGIJMtf47sM+3SN6OwX38rQVPHNELhyYWtMcb/9YXZ7r9sddTpNaua2mf4BtiovvXmwANF7+sXckw5Eu3g0W/uVX5KhU9dsfREEkPA/PXUtsIQGZI42By1fEsct/sjeVj+m8EqaVubYwsZNa2NEf0N8Y/YxfnsQuXKpWLSQlC3PuvmbBxHG0I/eEEFvWAUUD4b7wtMinJHfVl2xHeAxq/Q9xMLT7/KkF/U4nSXAc5ncv/apQJDUvkZocD7ap1hdkIVS1z/0IrO5BytoAp15FO6uyq/WmXj0GHzCKCXj0iGuqhFvuvGHLIiGoI97zS2uCviznE9d5KaFNE0XFjuSSv/8+p03KL3BQzlbN9zyci/SppOpCiwRXTl2PODgW890NaJin1a15PPVNciKmyxRN0nmfghVyeLbTXAVMGgzhKrk7EZivN/3D+hgWSugL1uryUMMFLzcWMucwx/qE9OgeQmB/jakfT4rc0Pj+6O6qr19yeyKLpZcqt6MBqO6vWDNbNGiDuXlmgjc+f0/LVCXPR4nmHIn/xUiDB2ogW/Laqo=
  - secure: FhRZtHRJsBludzy3XyaVUcFmNpml26bNfGZ2CexqMHElzpM+3WVneuIW9kmMXqdf0WTPGKwVOxljJCY0A1bUDEOyLzYc3R7onWqyB9BPXRBA+1y5PE5iuuaLAqO3f2RaPgMACWW39aJGmxsjieU/wWHLXl3D057n/kCMbVJjZjOd2/7uo6nKQexi0YhPbDGAbxgwZs3QQyyW65UHDAQrUGH4+StM131nS7SZ453JThTyUFjrPozOZ02X4iewFvmcBSvn/+tpiYsNemJBEfh1U1UQJr6UgEyS0F3fZAVuDqkL97D2CglNpaUopShKEzBYb01iYvghSRCBn1EPXcoLmctJiPIRTAxGW0UvLtJcU3pI96bcXVFMwMyBY1uMMFCPVr/sU7G7uIUmI4FmPEKYUf2vGpn8GGuwyt0qdIlSquxG9rtEz0H0RwhpzpM5wUwhJamgO7Yyq35o3GenPeYD3eAmqf9KGp0tbhu0qrDqATBanvq+IURxBlNUXtUnWvXsTveQolMgNc22e/hUYCUxgTOJyYe1XfP0meGkrc0ztAfx1+y88B8p10Lbbpss41PHUA1Osu4ULBSVaE0DVAeiXtz4fDyq2hPtZP03iL1cTJb0p0yfNNygKcYeU8ACoAxQaXPxSxGlGTMg4IIWmk1OB/6eFW1kKch/DTaFDg+1/wY=
  - secure: DWTyolzgsGuDL3sLe8zoxA9+YOCvJk4vj9WOhhydr9fK9jy7GzbDFehTRX85trqvSjEC5MQ9JPpvf1BhVVsv/SzBZ3puQlpFuPr+ehRAmBeiHBbTeJ6RDjaM2y9FeaxkzutMvql41epMHoJLxrYY4RtVMqJOgOwOZfo2SUtAEEobIxLF1w7gl1osiKcG3wccQCIl25+lBbLB2boKft0h3E23RiiNCXYqMJ1vJC90Xe0VJTJ04SqfeqSipOtAf+OdBEsy0ygK/TeIv0rrlKah1gXkcqNIWBScGT5wF5qpp3OVrcW7Eu/6bDE67+JWiw82XNUcZrbD5FMTr6CmDSplfFLxUBEv0nx55E5+fXmlI3MTPcuH5qOOOAGalb4neLBHnCoIkSrOofVaFEcOreJSAZLRlp8jsgFjiFEuTqckvI8dB1/E+vkGEybg2pRTfjiqJ+gHBc5Zje3k25yTcMWC7VT3DPM2n9SdOwj5wriSdcdzRBjD82Pr6ymWvsNiCCRL7NtSVcSg0TXhNXsAioDfxqPUTrl9+H17G+a2AJqbU9ShofsX9Ww9JL2XE6evI1BCFkrZmuQ9IzTRG7VB6QlPZLQ1SiMaya23utVNGD8h6WSFQgbxfAxy8iR9KkJ+ebv044ACUwY9hJ8bhG8/s80aWy2qT+yUhwe9S0zV8A+gwLQ=
  - secure: JC/e1JD0vBGyP3e96Jn42aD7+YmWjQ4YPt0hMTzVDNJHiDgedid9ar/OlnXA49xVCsZuI7+Hu53Ao0gzHlhS8JAR6uTQ4UlD8v5VB3lont5ro5skC1r5Hhz76BgAFfPTqPhT71w2cGqAGMPaK+PiUNxow0eTGDXGSK5R3VHDHU6VO8184vDfC5vdcA6gsZUM/Vl/Gev94ayyYtrmj1gXNG9/+EPgDma80xva3NyQOuaB7xS5LVLgfQfKXhACCTx/Sl7E+n6bCWVroTZZCFSWdEAqBkvXzqmdQEO1zq3pGV+i78sqbFIFKFtWCviU0uzlNfNwtWnCkJ4XGuRWotE/kRVWj6s/lbtAIhjoPeKEw5h1ECnLdzY8P965Vc9LgrPz4F5BK7wmetpjPuO9vD5ABoSw8zqBcgrHkdQG/Z3tWn30hiyqD/gV/FhiXLOucNZYtYQXjozavlHlEhvMGIB+bu34nvN/OPPrc+9AygLs1iNyZb3TtK9oDXGHsgIKZ8w/Ialp6ko3TgrsbVJttmovYeLYaIJkYYu0pU07qhGIfl6ogNbZ3eLYbi4wYG/tow9J/zyyU2UPYWJVlnSGlfLlrVWvCfk0hebu6JKABUbYMtQEJVNf/4XQjrEjsoDrlPwDcetcTbvXmTnYz0D5XdwttRK4z4wjMglUCqRLhshbgeo=
  - secure: XA6ud0uooPsHLw1LewKxscVHnQvHoNd+QhjFKooGVrtBah4zTfysrjZfvbgjG1fONWHjQuG8lsZaSkqctoM11JC2FpH99eEvJ8zvlibe5l4FZPy6clMMd/OgZtCZ1//9Q5s4MZKKcXw75GSLpC+cpv22Y20EjhlbvO+yVmR3V+c/+l8PxmZMU4QhvL7vodeFY+xQBnyCMzRTa9ZreFsDu23O5aHcG3M7w/T1+s0E0OzHwLSC0hKSAD0ho91ixBGA9SOqW0r7JOe0QL4WB94DRuBKreEGcF3ZF+3sGQ53Vn7b74zlKqm5yLupo6C8ozEU2M9ZnbnyPzCPxUCC1iOSuw8dyGEN//CjAxjXFYOG85/g5ZsiKAwhPx4YbHhiuyehGjzdAmN53TEX8Y3YMxsa1i1CG9cRpvjH3+wgFLTCB5850YFjjCjDsiBi9Vwr32W7XKrF7PmQTI7EthqtvQNqul4YmdqfjbHmid86SSoTXbjUXSXKnV6PHi980bHXkvtos9OZOzoz6n/+cETXXcdH8XHDXHZNpxJKoFY36xDZlTPw2GnU2G4gkcmeFwA/6kta6qcUeAaeXh4xUyV1LwjDFAhxbyBg6NkGbsMUyvgsBPLByKGAg/9T/3vjnJNMcLDlk9XDRAC1feRY4Tm6kvscjs4GeOtiNSTRm7aLlOY6fvI=
  - secure: qzVGDv+H7g6vILAP4wRutkoAYtVgt+XW6FHyiQi+9XDfkJzPdI/dy9I5Me7ugv7Pv7hJQph4iRHkun+rkYaKb5qNF9kgsd7bQC4LyfOyi53q/PEb6qf4hCd8kxCYZabfvkCE/diXO06UwsXQmMSerChJ2JDRxUQM1dAzs+TbSoipgSprcvyrLKdkiBxKKRM9LqW1bIE4QI3ZnYWySri8jYqBdZt9dYMh2qDKtI+Se7rbyGoc8YZvVBJ0jxlDdHYWqeodfUV+SpcfER7+U9MsqHiUX1J/KSEYPTfoFhS/xJ+fkrXwSRp4DrjhDBkHA3rdzdjXvSZL/MFIsvEiVy/sjMzCruJ6oLJEdbCPLl8JtWwnDK4MPhKFWVjjMcI4RgAfWzqKfU4m7o97XUY8eNVtARPttbYhQUx2guIv+8Yql1cT2rJ0X7uylfGuSah6Wy1dXoRhZTbGGkMR61MkPEiB4ug2a89dy7QDSusKrXqxlbj9E2N6RLVcXt0SYH8eYC+2MOXz445SJhNDry2A9XwgUC/VHOrHzRzDyY75gucnQHCE0d9qUdm60ARjxXDs3CGxFsLduq3GFTihHacdVnUCUvQsp8FeQSkGibJ9oXMqLxo2a1OHuvvVtDEezreoVXGaaL8XSyH5l34ZwLHpyVakGDHCQpQJHssyS8qzDSjCXAw=
  - secure: jOZ8UitfZUtdfX/nYZL6WqlNiVyyoe9+Ko5VBAodti3xfWwWZQkmPH5bXX0khNKVqbL2nXxAzES90bDWn0K+WGpbpyIcyFvTcZhVOwmuFP7aC/7Nr9ZHDUA37NPgQbbbsUM20nsGOOnqzHvAHrZqJee4yMfG/FHIZTqDlNsOyUPcg+p78KiJCQ4dHqh9XK14T3MAPHlwYh52XSOxAQ7VXOAsIfaslyyAXQrP++rzAHn12FisC3KkU+2x1tHjWm1OKADIK84G+iKFv38UBIr5bEQp56Tp1xjiYVvXE9+cfjOGcIIbSVyirN2mwxZ1EGYZQixce8ysUzHKgVu9ORy5WNziIo07rhso3bLmUffaKBW/lRLIu39fEx2+FCx/IpywLjxGfXM5mJQz3jCv1v0Z9b1fIwhgl+6gsCouOgoyFUCbrtlwbl07QwrgWM4w62DnnAIRTnyNoPXIFKlHlimXQT3ddf69M981DBLeG3EKjCTZzi+fMfjr73l2QW5mZURqMQTeBGloaOxe5GazwJhxGCIgA7Axqx/kB3JW2q27WjcY0566lBsF6UsQ0Lho+twpaSmf56k6ilv+559WOW0vhMfWL04/Srnj0GqLXpufuN13QYbrVTC7NiMTRX4fFqPCXarjKiBFDxXfjazvj2aIDcn/FG39rogev9T3fr4j34A=
  - secure: jzaq+tTKFQaEh0EJdyUiNa/LQpMG/LYb3+ckcmjQSIig2i9hZGmiADIruO7fxY/re1RunUeaNnNJAZKGn+ZIyQt8h4dOVnLVyq5+w/O1Zm8uvA2oBUa/wDGFaBjUQrg+kYWCuvTL3vmm6+cyNzq68rjdH/+RmnVm4YGQ/h4F3ietDZouC8ZXvoUKLhN5Eh6V9+iMH/jT5GWV1Hxt9q0Jqu0LyD0U0z9rs1+focaGXhGpbtQlkcVdqQYyjdJXoUFfn0tVNmrz0voaaiqbhH7090wkQff55gYTblKfG4bMySc1tyoASa4VXOh6MHzWmlLrzRnNPn0n9A4AXInhxJ+IWDjXouPO+DGXCsn2DXXlwTLCsZJdrCuIk3YFD36fb66wIL1Kp9zO+DlOfLBJrvp09OGd69uNzn+9nXBWqk1+dZfmJ43Gsh05yx1DcqbmtPuCEavIBir1FGByRzeAsJGEZjsSCWVF3MC4xxQDiCj4jQhijhwgj+OntMD3NuiQ/jxebN1XLpOOQQosfeiJmZkNkklOo1uPm92qGxsYsF0IFra17ryNujOXLWfdyjB4ULtDbXxzVvm19DTTkTDefCapfzSAD0FK2pCg4H6fxq6PaJJtPm8iMjN5jfNIMDLM+bSHSaP8ORJ1VvclmJJWH6agLSOyuZD1MeXK1p3cdVxisZo=

script:
  - chmod 777 deploy-maven-central.sh
  - docker run -v $PWD:/src -v $HOME/.m2:/root/.m2 -e USER_REPO=$USER_REPO -e USER_PASSWORD=$USER_PASSWORD -e BRANCH=$TRAVIS_BRANCH -e OPENSSL_PWD=$OPENSSL_PWD -e GPG_PWD=$GPG_PWD -e GPG_KEY=$GPG_KEY -e OSSRH_USER_TOKEN=$OSSRH_USER_TOKEN -e OSSRH_PWD_TOKEN=$OSSRH_PWD_TOKEN -e SONAR=$SONAR -e SONAR_ORGANIZATION=$SONAR_ORGANIZATION moussavdb/build-java ./deploy-maven-central.sh
